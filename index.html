<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WA Legislative Tracker 2026 | Track Washington State Bills</title>
    <meta name="description" content="Track and monitor Washington State legislative bills for the 2026 session. Free, open-source bill tracking with automatic updates.">
    <meta property="og:title" content="WA Legislative Tracker 2026">
    <meta property="og:description" content="Track Washington State bills, initiatives, and referendums">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://jeff-is-working.github.io/wa-bill-tracker">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #0f172a; --secondary: #1e293b; --accent: #3b82f6;
            --success: #10b981; --warning: #f59e0b; --danger: #ef4444;
            --text: #f1f5f9; --text-muted: #94a3b8; --bg: #0f172a;
            --bg-card: #1e293b; --border: #334155; --glow: rgba(59, 130, 246, 0.5);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg); color: var(--text); line-height: 1.6; min-height: 100vh;
        }
        body::before {
            content: ''; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 20% 50%, var(--glow) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(16, 185, 129, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(239, 68, 68, 0.2) 0%, transparent 50%);
            opacity: 0.3; z-index: -1; animation: float 20s ease-in-out infinite;
        }
        @keyframes float { 0%, 100% { transform: translate(0, 0) scale(1); } 33% { transform: translate(-20px, -20px) scale(1.1); } 66% { transform: translate(20px, -10px) scale(0.9); } }
        header { background: rgba(30, 41, 59, 0.8); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 100; }
        .header-content { max-width: 1400px; margin: 0 auto; padding: 1.5rem 2rem; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; }
        h1 { font-size: 1.75rem; font-weight: 700; background: linear-gradient(135deg, var(--text) 0%, var(--accent) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .sync-info { display: flex; align-items: center; gap: 1rem; font-family: 'JetBrains Mono', monospace; font-size: 0.875rem; color: var(--text-muted); }
        .sync-status { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 1rem; background: rgba(59, 130, 246, 0.1); border: 1px solid var(--accent); border-radius: 9999px; transition: all 0.3s; }
        .sync-status.syncing { animation: pulse 1.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.6; } }
        .sync-dot { width: 8px; height: 8px; background: var(--success); border-radius: 50%; animation: blink 2s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
        .container { max-width: 1400px; margin: 0 auto; padding: 2rem; }
        .view-container { display: none; }
        .view-container.active { display: block; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
        .stat-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; position: relative; overflow: hidden; transition: all 0.3s; cursor: pointer; text-decoration: none; color: inherit; display: block; }
        .stat-card:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); border-color: var(--accent); }
        .stat-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, var(--accent), var(--success)); }
        .stat-value { font-size: 2.5rem; font-weight: 700; color: var(--text); font-family: 'JetBrains Mono', monospace; }
        .stat-label { font-size: 0.875rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.05em; margin-top: 0.5rem; }
        .controls { background: var(--bg-card); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem; display: flex; flex-wrap: wrap; gap: 1rem; align-items: center; }
        .search-box { flex: 1; min-width: 300px; position: relative; }
        .search-input { width: 100%; padding: 0.75rem 1rem 0.75rem 2.5rem; background: var(--primary); border: 1px solid var(--border); border-radius: 8px; color: var(--text); font-size: 1rem; transition: all 0.3s; }
        .search-input:focus { outline: none; border-color: var(--accent); box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
        .search-icon { position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: var(--text-muted); }
        .filter-btn { padding: 0.75rem 1.5rem; background: var(--primary); border: 1px solid var(--border); border-radius: 8px; color: var(--text); font-size: 0.875rem; font-weight: 500; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 0.5rem; }
        .filter-btn:hover { background: var(--secondary); border-color: var(--accent); }
        .filter-btn.active { background: var(--accent); border-color: var(--accent); }
        .btn-primary { padding: 0.75rem 1.5rem; background: var(--accent); border: none; border-radius: 8px; color: white; font-size: 0.875rem; font-weight: 600; cursor: pointer; transition: all 0.3s; display: flex; align-items: center; gap: 0.5rem; }
        .btn-primary:hover { background: #2563eb; transform: translateY(-2px); box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3); }
        .filters-panel { background: var(--bg-card); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem; display: none; }
        .filters-panel.active { display: block; animation: slideDown 0.3s ease; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .filter-group { margin-bottom: 1.5rem; }
        .filter-label { display: block; font-size: 0.875rem; font-weight: 600; color: var(--text-muted); margin-bottom: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; }
        .filter-options { display: flex; flex-wrap: wrap; gap: 0.5rem; }
        .filter-tag { padding: 0.5rem 1rem; background: var(--primary); border: 1px solid var(--border); border-radius: 20px; font-size: 0.875rem; cursor: pointer; transition: all 0.2s; }
        .filter-tag:hover { background: var(--secondary); border-color: var(--accent); }
        .filter-tag.active { background: var(--accent); border-color: var(--accent); color: white; }
        .bills-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
        .bill-card { background: var(--bg-card); border: 1px solid var(--border); border-radius: 12px; overflow: hidden; transition: all 0.3s; position: relative; }
        .bill-card:hover { transform: translateY(-4px); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3); border-color: var(--accent); }
        .bill-card.tracked { border-color: var(--warning); }
        .bill-card.tracked::before { content: 'Tracked'; position: absolute; top: 1rem; right: 1rem; font-size: 0.75rem; background: var(--warning); color: var(--primary); padding: 0.25rem 0.5rem; border-radius: 4px; z-index: 10; }
        .bill-header { padding: 1.5rem; background: rgba(59, 130, 246, 0.05); border-bottom: 1px solid var(--border); }
        .bill-number { font-family: 'JetBrains Mono', monospace; font-size: 1.25rem; font-weight: 600; color: var(--accent); text-decoration: none; display: inline-block; margin-bottom: 0.5rem; }
        .bill-number:hover { color: #60a5fa; }
        .bill-title { font-size: 1rem; font-weight: 600; color: var(--text); line-height: 1.4; }
        .bill-body { padding: 1.5rem; }
        .bill-meta { display: flex; flex-wrap: wrap; gap: 1rem; margin-bottom: 1rem; font-size: 0.875rem; color: var(--text-muted); }
        .meta-item { display: flex; align-items: center; gap: 0.25rem; }
        .bill-description { color: var(--text-muted); font-size: 0.875rem; line-height: 1.6; margin-bottom: 1rem; }
        .bill-tags { display: flex; flex-wrap: wrap; gap: 0.5rem; }
        .tag { padding: 0.25rem 0.75rem; background: var(--primary); border: 1px solid var(--border); border-radius: 12px; font-size: 0.75rem; font-weight: 500; text-transform: uppercase; letter-spacing: 0.05em; }
        .tag.status-prefiled { background: rgba(245, 158, 11, 0.1); color: var(--warning); border-color: var(--warning); }
        .tag.status-introduced { background: rgba(59, 130, 246, 0.1); color: var(--accent); border-color: var(--accent); }
        .tag.status-committee { background: rgba(168, 85, 247, 0.1); color: #a855f7; border-color: #a855f7; }
        .tag.status-passed { background: rgba(16, 185, 129, 0.1); color: var(--success); border-color: var(--success); }
        .tag.status-failed { background: rgba(239, 68, 68, 0.1); color: var(--danger); border-color: var(--danger); }
        .tag.priority-high { background: rgba(239, 68, 68, 0.1); color: var(--danger); border-color: var(--danger); }
        .tag.priority-medium { background: rgba(245, 158, 11, 0.1); color: var(--warning); border-color: var(--warning); }
        .tag.priority-low { background: rgba(16, 185, 129, 0.1); color: var(--success); border-color: var(--success); }
        .bill-notes-preview { padding: 0 1.5rem 1rem; font-size: 0.875rem; color: var(--warning); font-style: italic; }
        .bill-actions { padding: 1rem 1.5rem; background: rgba(0, 0, 0, 0.2); border-top: 1px solid var(--border); display: flex; gap: 0.5rem; }
        .action-btn { flex: 1; padding: 0.5rem; background: var(--primary); border: 1px solid var(--border); border-radius: 6px; color: var(--text-muted); font-size: 0.875rem; cursor: pointer; transition: all 0.2s; text-align: center; }
        .action-btn:hover { background: var(--secondary); color: var(--text); border-color: var(--accent); }
        .action-btn.active { background: var(--accent); color: white; border-color: var(--accent); }
        .user-panel { position: fixed; bottom: 2rem; right: 2rem; background: var(--bg-card); border: 1px solid var(--border); border-radius: 12px; padding: 1rem; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5); z-index: 1000; min-width: 300px; max-width: 400px; transition: all 0.3s; }
        .user-panel.expanded { min-height: 400px; }
        .user-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border); }
        .user-info { display: flex; align-items: center; gap: 0.75rem; }
        .user-avatar { width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, var(--accent), var(--success)); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 1.25rem; }
        .user-name { font-weight: 600; }
        .expand-btn { background: none; border: none; color: var(--text-muted); cursor: pointer; font-size: 1.25rem; transition: transform 0.3s; }
        .expand-btn:hover { color: var(--text); }
        .expand-btn.expanded { transform: rotate(180deg); }
        .user-stats { display: flex; flex-direction: column; gap: 0.5rem; font-size: 0.875rem; color: var(--text-muted); }
        .user-notes-section { display: none; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border); max-height: 250px; overflow-y: auto; }
        .user-notes-section.active { display: block; }
        .user-note-item { background: var(--primary); border-radius: 8px; padding: 0.75rem; margin-bottom: 0.75rem; }
        .user-note-bill { font-weight: 600; color: var(--accent); font-size: 0.875rem; margin-bottom: 0.25rem; cursor: pointer; }
        .user-note-text { font-size: 0.875rem; color: var(--text-muted); }
        .user-note-date { font-size: 0.75rem; color: var(--text-muted); opacity: 0.6; margin-top: 0.25rem; }
        .stats-detail { background: var(--bg-card); border: 1px solid var(--border); border-radius: 12px; padding: 2rem; margin-bottom: 2rem; }
        .stats-detail h2 { font-size: 1.5rem; margin-bottom: 1.5rem; color: var(--text); }
        .stats-list { display: grid; gap: 1rem; }
        .stats-item { background: var(--primary); border-radius: 8px; padding: 1rem; display: flex; justify-content: space-between; align-items: center; }
        .stats-item-label { font-weight: 600; }
        .stats-item-value { font-family: 'JetBrains Mono', monospace; color: var(--accent); }
        .back-btn { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; background: var(--secondary); border: 1px solid var(--border); border-radius: 8px; color: var(--text); text-decoration: none; font-weight: 500; margin-bottom: 2rem; transition: all 0.3s; cursor: pointer; }
        .back-btn:hover { background: var(--primary); border-color: var(--accent); transform: translateX(-4px); }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: 2000; align-items: center; justify-content: center; }
        .modal.active { display: flex; }
        .modal-content { background: var(--bg-card); border-radius: 12px; padding: 2rem; max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }
        .modal-title { font-size: 1.25rem; font-weight: 600; }
        .modal-close { background: none; border: none; color: var(--text-muted); font-size: 1.5rem; cursor: pointer; }
        .modal-close:hover { color: var(--text); }
        .note-textarea { width: 100%; min-height: 150px; padding: 1rem; background: var(--primary); border: 1px solid var(--border); border-radius: 8px; color: var(--text); font-family: inherit; font-size: 1rem; resize: vertical; }
        .note-textarea:focus { outline: none; border-color: var(--accent); }
        .modal-actions { display: flex; gap: 1rem; margin-top: 1.5rem; justify-content: flex-end; }
        footer { background: var(--bg-card); border-top: 1px solid var(--border); padding: 2rem; text-align: center; color: var(--text-muted); margin-top: 4rem; }
        footer a { color: var(--accent); text-decoration: none; }
        footer a:hover { text-decoration: underline; }
        .toast { position: fixed; bottom: 2rem; left: 50%; transform: translateX(-50%) translateY(100px); background: var(--bg-card); border: 1px solid var(--accent); border-radius: 8px; padding: 1rem 2rem; color: var(--text); font-size: 0.875rem; font-weight: 500; opacity: 0; transition: all 0.3s; z-index: 3000; }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
        @media (max-width: 768px) { .header-content { flex-direction: column; text-align: center; } .bills-grid { grid-template-columns: 1fr; } .stats-grid { grid-template-columns: repeat(2, 1fr); } .user-panel { bottom: 1rem; right: 1rem; left: 1rem; max-width: none; } }
        .spinner { width: 20px; height: 20px; border: 2px solid var(--border); border-top-color: var(--accent); border-radius: 50%; animation: spin 0.6s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>WA Legislative Tracker 2026</h1>
            <div class="sync-info">
                <div class="sync-status" id="syncStatus">
                    <span class="sync-dot"></span>
                    <span id="syncText">Last sync: Loading...</span>
                </div>
            </div>
        </div>
    </header>
    <div class="container">
        <div id="mainView" class="view-container active">
            <div class="stats-grid">
                <a href="#" class="stat-card" onclick="showStatsDetail('total'); return false;"><div class="stat-value" id="totalBills">0</div><div class="stat-label">Total Bills</div></a>
                <a href="#" class="stat-card" onclick="showStatsDetail('tracked'); return false;"><div class="stat-value" id="trackedBills">0</div><div class="stat-label">Tracked Bills</div></a>
                <a href="#" class="stat-card" onclick="showStatsDetail('today'); return false;"><div class="stat-value" id="newToday">0</div><div class="stat-label">Updated Today</div></a>
                <a href="#" class="stat-card" onclick="showStatsDetail('hearings'); return false;"><div class="stat-value" id="hearingsWeek">0</div><div class="stat-label">Meetings This Week</div></a>
                <a href="#" class="stat-card" onclick="showStatsDetail('remaining'); return false;"><div class="stat-value" id="daysLeft">60</div><div class="stat-label">Days Remaining</div></a>
            </div>
            <div class="controls">
                <div class="search-box">
                    <span class="search-icon">Search</span>
                    <input type="text" class="search-input" id="searchInput" placeholder="Search bills by number, title, or sponsor...">
                </div>
                <button class="filter-btn" id="filterToggle" onclick="toggleFilters()">Filters</button>
                <button class="filter-btn" id="trackedToggle" onclick="toggleTrackedOnly()">My Tracked</button>
                <button class="btn-primary" onclick="refreshData()">Refresh</button>
            </div>
            <div class="filters-panel" id="filtersPanel">
                <div class="filter-group">
                    <label class="filter-label">Status</label>
                    <div class="filter-options" id="statusFilters">
                        <span class="filter-tag" data-filter="status" data-value="prefiled">Pre-filed</span>
                        <span class="filter-tag" data-filter="status" data-value="introduced">Introduced</span>
                        <span class="filter-tag" data-filter="status" data-value="committee">In Committee</span>
                        <span class="filter-tag" data-filter="status" data-value="passed">Passed</span>
                        <span class="filter-tag" data-filter="status" data-value="failed">Failed</span>
                    </div>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Priority</label>
                    <div class="filter-options" id="priorityFilters">
                        <span class="filter-tag" data-filter="priority" data-value="high">High</span>
                        <span class="filter-tag" data-filter="priority" data-value="medium">Medium</span>
                        <span class="filter-tag" data-filter="priority" data-value="low">Low</span>
                    </div>
                </div>
                <div class="filter-group">
                    <label class="filter-label">Type</label>
                    <div class="filter-options" id="typeFilters">
                        <span class="filter-tag" data-filter="type" data-value="HB">House Bills</span>
                        <span class="filter-tag" data-filter="type" data-value="SB">Senate Bills</span>
                        <span class="filter-tag" data-filter="type" data-value="HJR">House Joint Resolutions</span>
                        <span class="filter-tag" data-filter="type" data-value="SJR">Senate Joint Resolutions</span>
                    </div>
                </div>
            </div>
            <div class="bills-grid" id="billsGrid"></div>
        </div>
        <div id="statsView" class="view-container">
            <button class="back-btn" onclick="showMainView()">Back to Bills</button>
            <div class="stats-detail" id="statsDetail"></div>
        </div>
    </div>
    <div class="user-panel" id="userPanel">
        <div class="user-header">
            <div class="user-info">
                <div class="user-avatar" id="userAvatar">?</div>
                <div><div class="user-name" id="userName">Guest User</div><div style="font-size: 0.75rem; color: var(--text-muted);">Session Tracker</div></div>
            </div>
            <button class="expand-btn" id="expandBtn" onclick="toggleUserPanel()">V</button>
        </div>
        <div class="user-stats">
            <div><span id="userTrackedCount">0</span> bills tracked</div>
            <div><span id="userNotesCount">0</span> notes saved</div>
            <div>Auto-save enabled</div>
        </div>
        <div class="user-notes-section" id="userNotesSection">
            <h4 style="margin-bottom: 1rem; color: var(--text);">Your Recent Notes</h4>
            <div id="userNotesList"></div>
        </div>
    </div>
    <div class="modal" id="noteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="noteModalTitle">Add Note</h3>
                <button class="modal-close" onclick="closeNoteModal()">X</button>
            </div>
            <textarea class="note-textarea" id="noteTextarea" placeholder="Enter your notes about this bill..."></textarea>
            <div class="modal-actions">
                <button class="filter-btn" onclick="closeNoteModal()">Cancel</button>
                <button class="btn-primary" onclick="saveNote()">Save Note</button>
            </div>
        </div>
    </div>
    <footer>
        <p><strong>WA Legislative Tracker 2026</strong><br>
        Open source bill tracking for Washington State<br>
        <a href="https://github.com/jeff-is-working/wa-bill-tracker" target="_blank">GitHub Repository</a> | 
        <a href="https://app.leg.wa.gov/" target="_blank">Official WA Legislature Site</a><br>
        <small>Data updated automatically via GitHub Actions</small></p>
    </footer>
    <div class="toast" id="toast"></div>
    <script src="app.js"></script>
</body>
</html>
